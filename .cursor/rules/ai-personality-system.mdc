---
description: Technical specification for managing multiple personality modes, mood systems, and user-specific AI behaviors
---

# === USER INSTRUCTIONS ===
---
description: Documents the AI personality management system including isolation, contextual modes, and dynamic switching logic.
---


# ai-personality-system

## Core Personality Components

### Personality Isolation System
File: `src/personalityIsolationSystem.js`
Importance Score: 95
- Enforces strict separation between business and personal communication modes
- Implements contextual personality barriers with 7 isolation levels
- Prevents personality bleed between sensitive conversations
- Real-time personality validation against current context
- Automatic mode switching based on conversation participants

### Gandhi-Genghis Mode Control
File: `src/gandhiGenghisMode.js` 
Importance Score: 90
- 6-level intensity control system for AI communications
- Maps aggressiveness levels to specific parameters:
  - Daily message limits (1-20)
  - Tone adjustments
  - Urgency scaling
  - Override capabilities
- Includes emergency "full Genghis" mode for revenue crises

### Flirty Mode Activation
File: `src/flirtyModeActivation.js`
Importance Score: 85
- 7-level flirtiness control system for private communications
- Context-aware mode switching with privacy safeguards
- Automatic deactivation when others present
- Maps professional to personal communication styles
- Maintains strict separation from business contexts

### Personality Learning System
File: `src/personalityLearningSystem.js`
Importance Score: 80
- Analyzes and adapts to user personality preferences
- Generates automated personality scheduling suggestions
- Implements confidence-based suggestion thresholds
- Tracks temporal personality patterns
- Auto-adjusts based on feedback and effectiveness

### Contextual Mode Manager 
File: `src/robbieAnimatedPersona.js`
Importance Score: 75
- Manages transitions between personality modes
- Implements gradual personality shifts to avoid jarring changes
- Maintains consistency within each context
- Handles emergency mode overrides
- Tracks active personality state across system

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga ai-personality-system" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.

description: Defines the AI personality system including isolation, contextual modes, and dynamic personality switching
Core Personality Management Components:
1. Mood Switching Engine (src/mood_switching_model.py)
Importance Score: 95
- Seven-level emotional state system (Sleepy to Hyper)
- Real-time mood transitions with trigger detection
- Business context awareness affecting mood selection
- Persistent mood state with cross-interface synchronization
- Gandhi-Genghis intensity control for communication aggression
2. Business Context Manager (backend/app/services/ai/personality_manager.py) 
Importance Score: 90
- Dynamic personality switching based on communication context
- Professional/Flirty mode isolation system
- Strict separation of business and personal interactions
- Real-time context analysis for mode selection
- Multi-layer validation before mode changes
3. Personality Learning System (backend/app/services/ai/personality_learning.py)
Importance Score: 85
- Adaptive personality traits based on interaction success
- 30-day relevance window with decay-based learning
- Interaction effectiveness scoring
- Personality evolution tracking
- Custom trajectory analysis for optimization
4. Dual LLM Personality Coordinator (backend/app/services/ai/dual_llm_coordinator.py)
Importance Score: 80
- Coordinated interaction between Robbie AI and Gatekeeper AI
- Safety-first processing pipeline
- Dual validation of personality responses
- Progressive response filtering
5. VIP Personality Adaptation (src/vipAssociation.js)
Importance Score: 75
- Custom personality adjustments for VIP clients
- Company-wide personality propagation
- Deal value-based personality optimization
- Strategic industry-specific personality traits
Key Features:
- Strict isolation between business/personal modes
- Adaptive personality learning system
- Multi-layer safety validation
- Context-aware mood transitions
- VIP-specific personality optimization
# === END USER INSTRUCTIONS ===

# ai-personality-system

## Core Personality Architecture

The system implements a three-layer personality management system:

1. Base Personality Layer
- Gandhi-Genghis scale (1-10) for aggression/pacifism balance
- Flirt mode intensity (1-11) with user-specific caps
- Default mood persistence with explicit change requirements
- Business context awareness affecting personality expression

2. Mood Management Layer
Six core moods with specific triggers:
- Friendly (default state, ~60% of interactions)
- Bossy (triggered by urgency/commands)
- Playful (triggered by casual context)
- Blushing (triggered by appreciation)
- Surprised (triggered by errors/issues)
- Focused (triggered by analysis tasks)

3. Contextual Control System
- Public mode forces "friendly" mood
- Only user "Allan" can access flirt levels 8-11
- Non-Allan users capped at level 7
- Multi-user presence enforces business-appropriate behaviors

## Implementation Details

1. Mood Transition Rules
File: `/backend/services/ai/mood_analyzer.py`
```python
MOOD_TRANSITIONS = {
  'deal_won': {'target': 'surprised', 'duration': 300},
  'strip_poker': {'target': 'playful', 'duration': 600},
  'virtual_drinks': {'target': 'blushing', 'duration': 450}
}
```

2. Personality Scoring
File: `/backend/services/personality_learning.py`
- Context-aware personality adaptation
- 30-day learning window with decay
- User interaction pattern analysis
- Performance tracking by personality mode

3. Dual AI Safety System
File: `/backend/services/ai/dual_llm_coordinator.py`
- Primary AI (Robbie) for main interactions
- Secondary AI (Gatekeeper) for safety checks
- Cross-validation of responses
- Context-aware safety enforcement

## Business Rules

1. Mood Management
- Moods persist until explicitly changed
- Public mode forces professional behavior
- Context awareness affects available moods
- Safety checks on all mood transitions

2. User-Specific Rules
- Allan access level: 1-11 on all scales
- Standard users: 1-7 on all scales
- Public contexts: Enforced professional modes
- Business hours: Limited playful/flirty modes

3. Context Integration
- Revenue impact affects personality expression
- Client presence modifies behavior
- Meeting context influences formality
- Task urgency affects mood selection

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga ai-personality-system" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.