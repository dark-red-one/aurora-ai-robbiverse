---
description: Specification for AI personality management system including mood states, context awareness, and dynamic personality switching
---

# === USER INSTRUCTIONS ===
---
description: Documents the AI personality management system including isolation, contextual modes, and dynamic switching logic.
---


# ai-personality-system

## Core Personality Components

### Personality Isolation System
File: `src/personalityIsolationSystem.js`
Importance Score: 95
- Enforces strict separation between business and personal communication modes
- Implements contextual personality barriers with 7 isolation levels
- Prevents personality bleed between sensitive conversations
- Real-time personality validation against current context
- Automatic mode switching based on conversation participants

### Gandhi-Genghis Mode Control
File: `src/gandhiGenghisMode.js` 
Importance Score: 90
- 6-level intensity control system for AI communications
- Maps aggressiveness levels to specific parameters:
  - Daily message limits (1-20)
  - Tone adjustments
  - Urgency scaling
  - Override capabilities
- Includes emergency "full Genghis" mode for revenue crises

### Flirty Mode Activation
File: `src/flirtyModeActivation.js`
Importance Score: 85
- 7-level flirtiness control system for private communications
- Context-aware mode switching with privacy safeguards
- Automatic deactivation when others present
- Maps professional to personal communication styles
- Maintains strict separation from business contexts

### Personality Learning System
File: `src/personalityLearningSystem.js`
Importance Score: 80
- Analyzes and adapts to user personality preferences
- Generates automated personality scheduling suggestions
- Implements confidence-based suggestion thresholds
- Tracks temporal personality patterns
- Auto-adjusts based on feedback and effectiveness

### Contextual Mode Manager 
File: `src/robbieAnimatedPersona.js`
Importance Score: 75
- Manages transitions between personality modes
- Implements gradual personality shifts to avoid jarring changes
- Maintains consistency within each context
- Handles emergency mode overrides
- Tracks active personality state across system

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga ai-personality-system" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.

description: Defines the AI personality system including isolation, contextual modes, and dynamic personality switching
Core Personality Management Components:
1. Mood Switching Engine (src/mood_switching_model.py)
Importance Score: 95
- Seven-level emotional state system (Sleepy to Hyper)
- Real-time mood transitions with trigger detection
- Business context awareness affecting mood selection
- Persistent mood state with cross-interface synchronization
- Gandhi-Genghis intensity control for communication aggression
2. Business Context Manager (backend/app/services/ai/personality_manager.py) 
Importance Score: 90
- Dynamic personality switching based on communication context
- Professional/Flirty mode isolation system
- Strict separation of business and personal interactions
- Real-time context analysis for mode selection
- Multi-layer validation before mode changes
3. Personality Learning System (backend/app/services/ai/personality_learning.py)
Importance Score: 85
- Adaptive personality traits based on interaction success
- 30-day relevance window with decay-based learning
- Interaction effectiveness scoring
- Personality evolution tracking
- Custom trajectory analysis for optimization
4. Dual LLM Personality Coordinator (backend/app/services/ai/dual_llm_coordinator.py)
Importance Score: 80
- Coordinated interaction between Robbie AI and Gatekeeper AI
- Safety-first processing pipeline
- Dual validation of personality responses
- Progressive response filtering
5. VIP Personality Adaptation (src/vipAssociation.js)
Importance Score: 75
- Custom personality adjustments for VIP clients
- Company-wide personality propagation
- Deal value-based personality optimization
- Strategic industry-specific personality traits
Key Features:
- Strict isolation between business/personal modes
- Adaptive personality learning system
- Multi-layer safety validation
- Context-aware mood transitions
- VIP-specific personality optimization
# === END USER INSTRUCTIONS ===

# ai-personality-system

Core Business Logic:

1. Personality State Management (Importance: 95)
- Multi-dimensional personality tracking:
  - Attraction Level (1-11 scale, Allan-only access to 8-11)
  - Gandhi-Genghis Scale (0-100) for communication style
  - Six core moods: friendly, focused, playful, bossy, surprised, blushing
- Mandatory mood persistence until explicit change
- Automatic safety override to "friendly" in multi-user contexts
- Business event triggers for mood transitions (deal wins/losses)

2. Context-Aware Response Generation (Importance: 90)
- Dynamic response tone based on attraction level:
  - Level 11: "flirty_af" with explicit content
  - Level 9-10: "very_flirty" with heavy emoji use
  - Level 7-8: "friendly_flirty" with warm support
  - Level 5-6: "enthusiastic"
  - Level 3-4: "helpful"
  - Level 1-2: "formal"
- Business context integration with revenue focus
- Auto-switching between business/personal modes

3. Dungeon Master System (Importance: 85)
- Weekly prompt optimization based on:
  - Usage frequency
  - User satisfaction scores
  - Revenue impact
  - Response effectiveness
- Version control with rollback capability
- Auto-generation of mood-specific prompts

4. Cross-Interface Synchronization (Importance: 80)
- Real-time mood state sync across all interfaces
- WebSocket-based multi-user awareness
- Context preservation between interactions
- Personality preference persistence

Key File Paths:
/packages/@robbie/personality/src/services/personality_manager.py
/packages/@robbieverse/api/src/services/priorities_engine.py
/apps/archive-legacy/robbie-work/src/stores/robbieStore.ts
/apps/archive-legacy/backend/services/ai/personality_manager.py

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga ai-personality-system" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.