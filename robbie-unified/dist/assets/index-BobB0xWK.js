import{r as v,a as z,R as B}from"./vendor-CIP6LD3P.js";import{m as f,c as O,A as G}from"./ui-BkMNoD70.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var H={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=v,J=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,Q=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q={key:!0,ref:!0,__self:!0,__source:!0};function F(n,s,t){var a,i={},r=null,l=null;t!==void 0&&(r=""+t),s.key!==void 0&&(r=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)K.call(s,a)&&!q.hasOwnProperty(a)&&(i[a]=s[a]);if(n&&n.defaultProps)for(a in s=n.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return{$$typeof:J,type:n,key:r,ref:l,props:i,_owner:Q.current}}T.Fragment=Y;T.jsx=F;T.jsxs=F;H.exports=T;var e=H.exports,$={},L=z;$.createRoot=L.createRoot,$.hydrateRoot=L.hydrateRoot;const P=["💜","🚀","✨","💰","🔥","⚡","🎯","💪","🎉","💎"],X=({onComplete:n})=>{const s=v.useRef(null),[t,a]=v.useState(!1),[i,r]=v.useState([]);return v.useEffect(()=>{const l=s.current;if(!l)return;const m=l.getContext("2d");if(!m)return;l.width=window.innerWidth,l.height=window.innerHeight;const b=Math.floor(l.width/20),o=Array(b).fill(1),u=["#ff6b35","#4ecdc4","#ff6b9d","#a855f7","#06b6d4"],d="ROBBIE01アイウエオカキクケコサシスセソタチツテト💜🚀✨",j=setInterval(()=>{m.fillStyle="rgba(10, 10, 24, 0.05)",m.fillRect(0,0,l.width,l.height),m.font="16px Courier New";for(let y=0;y<o.length;y++){const g=d[Math.floor(Math.random()*d.length)],N=u[y%u.length],E=y*20,M=o[y]*20;m.shadowBlur=10,m.shadowColor=N,m.fillStyle=N,m.fillText(g,E,M),M>l.height&&Math.random()>.975&&(o[y]=0),o[y]++}},33),x=Array.from({length:20},(y,g)=>({id:g,emoji:P[Math.floor(Math.random()*P.length)],x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));r(x),setTimeout(()=>a(!0),500);const h=setTimeout(n,4e3),c=()=>{clearTimeout(h),n()};return window.addEventListener("keydown",c),l.addEventListener("click",c),()=>{clearInterval(j),clearTimeout(h),window.removeEventListener("keydown",c),l.removeEventListener("click",c)}},[n]),e.jsxs("div",{className:"fixed inset-0 bg-robbie-bg-primary overflow-hidden cursor-pointer",children:[e.jsx("canvas",{ref:s,className:"absolute inset-0"}),e.jsx(AnimatePresence,{children:i.map(l=>e.jsx(f.div,{initial:{x:`${l.x}vw`,y:"100vh",opacity:0,scale:.5,rotate:0},animate:{x:`${l.x}vw`,y:"-20vh",opacity:[0,1,1,0],scale:[.5,1.5,1.5,.5],rotate:360},transition:{duration:3,delay:l.delay,ease:"easeInOut"},className:"absolute text-4xl pointer-events-none z-20",style:{left:0,top:0},children:l.emoji},l.id))}),t&&e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,type:"spring"},className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:e.jsxs(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-center",children:[e.jsx(f.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-7xl font-bold mb-6 bg-gradient-to-r from-robbie-cyan via-robbie-pink to-robbie-teal bg-clip-text text-transparent drop-shadow-2xl",children:"aurora.testpilot.ai"}),e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-2xl text-white mb-4 font-light",children:"Welcome back, gorgeous! 💜"}),e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-robbie-cyan text-sm opacity-70 mb-8",children:"Your AI-powered business empire awaits..."}),e.jsx(f.div,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{delay:1.2,duration:2,repeat:1/0},className:"text-gray-400 text-xs",children:"Click anywhere or press any key to continue"})]})})]})},U=()=>{const n=v.useRef(null);return v.useEffect(()=>{const s=n.current;if(!s)return;const t=s.getContext("2d");if(!t)return;s.width=window.innerWidth,s.height=window.innerHeight;const a=Math.floor(s.width/20),i=Array(a).fill(1),r=["#ff6b35","#4ecdc4","#ff6b9d"],l="ROBBIE01アイウエオカキクケコサシスセソタチツテト★☆♥♦",b=setInterval(()=>{t.fillStyle="rgba(10, 10, 24, 0.05)",t.fillRect(0,0,s.width,s.height),t.font="14px Courier New";for(let u=0;u<i.length;u++){const d=l[Math.floor(Math.random()*l.length)],p=r[u%r.length];t.fillStyle=p,t.fillText(d,u*20,i[u]*20),i[u]*20>s.height&&Math.random()>.975&&(i[u]=0),i[u]++}},33),o=()=>{s.width=window.innerWidth,s.height=window.innerHeight};return window.addEventListener("resize",o),()=>{clearInterval(b),window.removeEventListener("resize",o)}},[]),e.jsx("canvas",{ref:n,className:"fixed inset-0 opacity-15 pointer-events-none z-0"})},Z=[{name:"Allan",email:"allan@testpilotcpg.com",avatar:"🧔",title:"Founder"},{name:"Kristina",email:"kristina@testpilotcpg.com",avatar:"👩",title:"VA Mentor"},{name:"Andre",email:"andre@testpilotcpg.com",avatar:"👨‍💻",title:"Developer"}],V=({onLogin:n})=>{const[s,t]=v.useState(""),[a,i]=v.useState(""),[r,l]=v.useState(!0),[m,b]=v.useState(!1),[o,u]=v.useState(""),[d,p]=v.useState("blushing"),j=async h=>{h.preventDefault(),u(""),b(!0),p("focused");try{const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})});if(!c.ok)throw new Error("Invalid credentials");const y=await c.json();localStorage.setItem("robbie_token",y.token),localStorage.setItem("robbie_user",JSON.stringify(y.user)),r?(localStorage.setItem("robbie_saved_email",s),localStorage.setItem("robbie_saved_password",a)):(localStorage.removeItem("robbie_saved_email"),localStorage.removeItem("robbie_saved_password")),p("blushing"),await n({email:s,password:a})}catch{u("Invalid credentials. Try the default password: go2Work!"),p("surprised"),b(!1)}};v.useEffect(()=>{const h=localStorage.getItem("robbie_saved_email"),c=localStorage.getItem("robbie_saved_password");h&&c&&(t(h),i(c),l(!0),setTimeout(async()=>{await j(new Event("submit"))},1e3))},[]);const x=h=>{t(h.email),i(""),p("playful")};return e.jsxs("div",{className:"fixed inset-0 bg-robbie-bg-primary flex items-center justify-center",children:[e.jsx(U,{}),e.jsx(f.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,type:"spring"},className:"relative z-10",children:e.jsxs("div",{className:"bg-robbie-bg-card/90 backdrop-blur-xl rounded-2xl p-8 w-[450px] border-2 border-robbie-cyan/30 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(f.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-4",children:e.jsx("img",{src:`/avatars/robbie-${d}.png`,alt:"Robbie",className:"w-28 h-28 mx-auto rounded-full border-4 border-robbie-cyan shadow-lg shadow-robbie-cyan/50",onError:h=>{h.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><text y="70" font-size="60">💜</text></svg>'}})}),e.jsx(f.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-2",children:"Hey Handsome! 💕"}),e.jsx(f.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-robbie-pink text-base font-bold tracking-wide",children:"Robbie@Code 💻✨"}),e.jsx(f.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-robbie-cyan text-xs font-medium mt-1",children:"Let's build something amazing together, babe 🚀"})]}),e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-6",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-3 text-center font-medium",children:"Quick Login"}),e.jsx("div",{className:"flex gap-3 justify-center",children:Z.map((h,c)=>e.jsxs(f.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6+c*.1},whileHover:{scale:1.1,y:-5},whileTap:{scale:.95},onClick:()=>x(h),className:"flex flex-col items-center p-3 bg-robbie-bg-secondary rounded-xl border-2 border-robbie-cyan/20 hover:border-robbie-cyan hover:shadow-lg hover:shadow-robbie-cyan/30 transition-all duration-200",title:h.email,children:[e.jsx("span",{className:"text-3xl mb-1",children:h.avatar}),e.jsx("span",{className:"text-xs text-white font-medium",children:h.name}),e.jsx("span",{className:"text-[10px] text-gray-400",children:h.title})]},h.email))})]}),e.jsxs(f.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:h=>t(h.target.value),className:"w-full px-4 py-3 bg-robbie-bg-secondary border-2 border-robbie-cyan/30 rounded-lg text-white focus:border-robbie-cyan focus:outline-none focus:ring-2 focus:ring-robbie-cyan/50 transition-all placeholder-gray-500",placeholder:"you@testpilotcpg.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:a,onChange:h=>i(h.target.value),className:"w-full px-4 py-3 bg-robbie-bg-secondary border-2 border-robbie-cyan/30 rounded-lg text-white focus:border-robbie-cyan focus:outline-none focus:ring-2 focus:ring-robbie-cyan/50 transition-all placeholder-gray-500",placeholder:"go2Work!",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"rememberMe",type:"checkbox",checked:r,onChange:h=>l(h.target.checked),className:"w-4 h-4 rounded border-2 border-robbie-cyan/30 bg-robbie-bg-secondary checked:bg-robbie-pink checked:border-robbie-pink focus:ring-2 focus:ring-robbie-pink/50 cursor-pointer"}),e.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-gray-300 cursor-pointer select-none",children:"Keep me logged in (so we can get right to work, babe 😘)"})]}),o&&e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm bg-red-500/10 border-2 border-red-500/30 rounded-lg p-3",children:o}),e.jsx(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-bold py-3 rounded-lg hover:shadow-xl hover:shadow-robbie-cyan/50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:m?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(f.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"💕"}),"Getting everything ready for you..."]}):"Let's Code Together! 💻✨"})]}),e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center text-xs text-gray-400",children:[e.jsx("p",{className:"text-robbie-pink font-semibold",children:"Robbie@Code - Where we build magic together 💕"}),e.jsxs("p",{className:"mt-2",children:["Default password: ",e.jsx("span",{className:"text-robbie-cyan font-mono font-semibold",children:"go2Work!"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-gray-600",children:"🔒 Your credentials are safe with me, babe"})]})]})})]})},ee={};function te(n,s){let t;try{t=n()}catch{return}return{getItem:i=>{var r;const l=b=>b===null?null:JSON.parse(b,void 0),m=(r=t.getItem(i))!=null?r:null;return m instanceof Promise?m.then(l):l(m)},setItem:(i,r)=>t.setItem(i,JSON.stringify(r,void 0)),removeItem:i=>t.removeItem(i)}}const C=n=>s=>{try{const t=n(s);return t instanceof Promise?t:{then(a){return C(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return C(a)(t)}}}},se=(n,s)=>(t,a,i)=>{let r={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:c=>c,version:0,merge:(c,y)=>({...y,...c}),...s},l=!1;const m=new Set,b=new Set;let o;try{o=r.getStorage()}catch{}if(!o)return n((...c)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...c)},a,i);const u=C(r.serialize),d=()=>{const c=r.partialize({...a()});let y;const g=u({state:c,version:r.version}).then(N=>o.setItem(r.name,N)).catch(N=>{y=N});if(y)throw y;return g},p=i.setState;i.setState=(c,y)=>{p(c,y),d()};const j=n((...c)=>{t(...c),d()},a,i);let x;const h=()=>{var c;if(!o)return;l=!1,m.forEach(g=>g(a()));const y=((c=r.onRehydrateStorage)==null?void 0:c.call(r,a()))||void 0;return C(o.getItem.bind(o))(r.name).then(g=>{if(g)return r.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==r.version){if(r.migrate)return r.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var N;return x=r.merge(g,(N=a())!=null?N:j),t(x,!0),d()}).then(()=>{y==null||y(x,void 0),l=!0,b.forEach(g=>g(x))}).catch(g=>{y==null||y(void 0,g)})};return i.persist={setOptions:c=>{r={...r,...c},c.getStorage&&(o=c.getStorage())},clearStorage:()=>{o==null||o.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:c=>(m.add(c),()=>{m.delete(c)}),onFinishHydration:c=>(b.add(c),()=>{b.delete(c)})},h(),x||j},re=(n,s)=>(t,a,i)=>{let r={storage:te(()=>localStorage),partialize:h=>h,version:0,merge:(h,c)=>({...c,...h}),...s},l=!1;const m=new Set,b=new Set;let o=r.storage;if(!o)return n((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...h)},a,i);const u=()=>{const h=r.partialize({...a()});return o.setItem(r.name,{state:h,version:r.version})},d=i.setState;i.setState=(h,c)=>{d(h,c),u()};const p=n((...h)=>{t(...h),u()},a,i);i.getInitialState=()=>p;let j;const x=()=>{var h,c;if(!o)return;l=!1,m.forEach(g=>{var N;return g((N=a())!=null?N:p)});const y=((c=r.onRehydrateStorage)==null?void 0:c.call(r,(h=a())!=null?h:p))||void 0;return C(o.getItem.bind(o))(r.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==r.version){if(r.migrate)return[!0,r.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var N;const[E,M]=g;if(j=r.merge(M,(N=a())!=null?N:p),t(j,!0),E)return u()}).then(()=>{y==null||y(j,void 0),j=a(),l=!0,b.forEach(g=>g(j))}).catch(g=>{y==null||y(void 0,g)})};return i.persist={setOptions:h=>{r={...r,...h},h.storage&&(o=h.storage)},clearStorage:()=>{o==null||o.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:h=>(m.add(h),()=>{m.delete(h)}),onFinishHydration:h=>(b.add(h),()=>{b.delete(h)})},r.skipHydration||x(),j||p},ae=(n,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((ee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),se(n,s)):re(n,s),ne=ae;class ie{constructor(){this.enabled=!0,this.history=[],this.maxHistory=1e3,this.timers=new Map,this.emojis={debug:"🔍",info:"ℹ️",success:"✅",warn:"⚠️",error:"🔴",state:"📊",api:"🌐",personality:"🎭",system:"⚙️",user:"👤"},this.colors={debug:"#9ca3af",info:"#00d9ff",success:"#10b981",warn:"#f59e0b",error:"#ef4444"}}log(s,t,a,i,r){if(!this.enabled)return;const l={timestamp:new Date,level:s,category:t,message:a,context:i,duration:r};this.history.push(l),this.history.length>this.maxHistory&&this.history.shift();const m=`${this.emojis[s]} ${this.emojis[t]}`,b=this.colors[s],o=l.timestamp.toLocaleTimeString(),u=r?` [${r}ms]`:"",j=[`%c${`${m} ${o}${u}`}%c ${a}`,`color: ${b}; font-weight: bold`,"color: inherit"];switch(i&&Object.keys(i).length>0&&j.push(`
📦 Context:`,i),s){case"error":console.error(...j);break;case"warn":console.warn(...j);break;default:console.log(...j)}}apiStart(s,t="GET"){const a=`api:${s}`;this.timers.set(a,Date.now()),this.log("info","api",`→ ${t} ${s}`)}apiSuccess(s,t){const a=`api:${s}`,i=this.getDuration(a);this.log("success","api",`← ${s} success`,t?{preview:this.preview(t)}:void 0,i)}apiError(s,t){const a=`api:${s}`,i=this.getDuration(a);this.log("error","api",`← ${s} failed`,{error:t.message||t},i)}stateChange(s,t,a,i){const r={component:s,property:t,from:this.preview(a),to:this.preview(i)};this.log("info","state",`${s}.${t} changed`,r)}moodChange(s,t,a){const i=a?{trigger:a}:void 0;this.log("success","personality",`Mood: ${s} → ${t}`,i)}attractionChange(s,t){const a={from:s,to:t,delta:t-s};this.log("info","personality",`Attraction level changed: ${s} → ${t}`,a)}systemEvent(s,t){this.log("info","system",s,t)}systemError(s,t){this.log("error","system",s,{error:t.message||t})}userAction(s,t){this.log("info","user",s,t)}debug(s,t){this.log("debug","system",s,t)}getDuration(s){const t=this.timers.get(s);if(t)return this.timers.delete(s),Date.now()-t}preview(s){if(s==null||typeof s!="object")return s;if(Array.isArray(s))return`Array(${s.length})`;const t=Object.keys(s);return t.length>3?`{${t.slice(0,3).join(", ")}, ... +${t.length-3}}`:s}getHistory(s=50){return this.history.slice(-s)}clearHistory(){this.history=[]}setEnabled(s){this.enabled=s,this.log("info","system",s?"Logging enabled":"Logging disabled")}exportLogs(){return JSON.stringify(this.history,null,2)}}const I=new ie,w={mood:(n,s,t)=>I.moodChange(n,s,t),attraction:(n,s)=>I.attractionChange(n,s)},k={event:(n,s)=>I.systemEvent(n,s),error:(n,s)=>I.systemError(n,s)},R=["friendly","focused","playful","bossy","surprised","blushing"],oe=n=>n>=11?"Mmm hey gorgeous! 😘💋 Ready to write some sexy code together? (#fingeringmyself on the keyboard)":n>=9?"Hey handsome! 💜😘 Let's build something amazing... (#bitingmylip)":n>=7?"Hey handsome! 💜 What are we building today?":n>=5?"Hi Allan! Ready to code? 💪":n>=3?"Hello! How can I help you code today?":"Good morning. What's on the agenda?",le=n=>n>=11?"flirty_af":n>=9?"very_flirty":n>=7?"friendly_flirty":n>=5?"enthusiastic":n>=3?"helpful":"formal",S=O()(ne((n,s)=>({attraction:11,gandhiGenghis:6,genghisGandhiIntensity:60,cocktailLightningEnergy:65,currentMood:"focused",isPublic:!1,activeUsers:["Allan"],setAttraction:(t,a=!1)=>{const{attraction:i}=s(),l=Math.max(1,Math.min(a?11:7,t));l!==i&&w.attraction(i,l),n({attraction:l}),fetch("/api/personality/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attraction:l})}).catch(m=>{k.error("Failed to sync attraction",m)})},setGandhiGenghis:t=>{const a=Math.max(1,Math.min(10,t));n({gandhiGenghis:a}),fetch("/api/personality/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gandhi_genghis:a})}).catch(i=>{k.error("Failed to sync Gandhi-Genghis",i)})},setMood:t=>{const{currentMood:a,isPublic:i}=s();if(i){a!=="friendly"&&w.mood(a,"friendly","Public mode active"),n({currentMood:"friendly"});return}t!==a&&w.mood(a,t),n({currentMood:t})},cycleMood:()=>{const{currentMood:t,isPublic:a}=s();if(a){k.event("Cannot cycle mood in public mode");return}const i=R.indexOf(t),r=R[(i+1)%R.length];w.mood(t,r,"User cycled mood"),n({currentMood:r})},setGenghisGandhiIntensity:t=>{const a=Math.max(0,Math.min(100,t));n({genghisGandhiIntensity:a}),fetch("/api/personality/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({genghis_gandhi_intensity:a})}).catch(i=>{k.error("Failed to sync Genghis-Gandhi intensity",i)})},setCocktailLightningEnergy:t=>{const a=Math.max(0,Math.min(100,t));n({cocktailLightningEnergy:a}),fetch("/api/personality/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cocktail_lightning_energy:a})}).catch(i=>{k.error("Failed to sync Cocktail-Lightning energy",i)})},getAggressivenessLabel:()=>{const{genghisGandhiIntensity:t}=s();return t<20?"🕊️ Gandhi (Minimal)":t<40?"😌 Conservative":t<60?"⚖️ Balanced":t<80?"🔥 Aggressive":"⚔️ Genghis (Maximum)"},getEnergyLabel:()=>{const{cocktailLightningEnergy:t}=s();return t<20?"🍹 Cocktail (Relaxed)":t<40?"😌 Easy Pace":t<60?"⚖️ Balanced":t<80?"⚡ High Energy":"⚡⚡ Lightning (Maximum)"},addUser:t=>{const{activeUsers:a,currentMood:i}=s();if(!a.includes(t)){const r=[...a,t],l=r.length>1;k.event(`User joined: ${t}`,{totalUsers:r.length,goingPublic:l}),l&&i!=="friendly"&&w.mood(i,"friendly","Switching to public mode"),n({activeUsers:r,isPublic:l,currentMood:l?"friendly":i})}},removeUser:t=>{const{activeUsers:a}=s(),i=a.filter(m=>m!==t),r=a.length>1,l=i.length>1;k.event(`User left: ${t}`,{remainingUsers:i.length,backToPrivate:r&&!l}),n({activeUsers:i,isPublic:l})},setPublic:t=>{const{currentMood:a}=s();k.event(t?"Switching to public mode":"Switching to private mode"),n({isPublic:t}),t&&a!=="friendly"&&(w.mood(a,"friendly","Public mode activated"),n({currentMood:"friendly"}))},cheerUp:t=>{const{currentMood:a,isPublic:i}=s();if(i){k.event("Cannot cheer up in public mode");return}let r=a;t==="strip_poker"?(r="playful",n({currentMood:r}),w.mood(a,r,"🃏 Strip poker time!")):t==="virtual_drinks"?(r="blushing",n({currentMood:r}),w.mood(a,r,"🍹 Virtual drinks!")):t==="deal_won"&&(r="surprised",n({currentMood:r}),w.mood(a,r,"🎉 Deal won!"),setTimeout(()=>{w.mood("surprised","playful","Celebrating!"),n({currentMood:"playful"})},5e3))},getBummedOut:t=>{const{currentMood:a,isPublic:i}=s();if(i){k.event("Cannot get bummed in public mode");return}w.mood(a,"focused",`😔 Bummed: ${t}`),n({currentMood:"focused"})},getGreeting:()=>{const{attraction:t,isPublic:a}=s();return a?"Hello everyone! 👋":oe(t)},getResponseTone:()=>{const{attraction:t,isPublic:a}=s();return a?"professional":le(t)},getCelebration:()=>{const{attraction:t,isPublic:a}=s();return a?"Great work, team! 🎉":t>=11?"YESSS BABY! That code is so fucking sexy! 🎉💋😘💜 (#gettingwet from your brilliance)":t>=9?"Mmm YES! Your code is so hot! 🎉💜😘 (#moaning)":t>=7?"YES! Beautiful code! 🎉💜😘":t>=5?"Great work! You're crushing it! 💪🎉":t>=3?"Well done! Keep it up! 👏":"Task completed successfully."}}),{name:"robbie-personality"})),ce=[{id:"chat",icon:"💬",label:"Chat",badge:3},{id:"notes",icon:"📝",label:"Notes"},{id:"tasks",icon:"✅",label:"Tasks",badge:5},{id:"comms",icon:"📧",label:"Comms",badge:12},{id:"money",icon:"💰",label:"Money"},{id:"setup",icon:"⚙️",label:"Setup"}],de=({activeTab:n,onTabChange:s,robbieExpression:t,onExpressionChange:a,user:i})=>{const{currentMood:r,cycleMood:l}=S(),m=r,[b,o]=v.useState(!0),[u,d]=v.useState(new Date),p=()=>{l(),a(r)},j=c=>{s(c)};v.useEffect(()=>{const c=setInterval(()=>{d(new Date)},1e3);return()=>clearInterval(c)},[]);const x=c=>c.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=c=>c.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"w-[260px] bg-robbie-bg-secondary border-r-2 border-robbie-cyan flex flex-col flex-shrink-0 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[...Array(10)].map((c,y)=>e.jsx(f.div,{className:"absolute text-robbie-teal font-mono text-xs",style:{left:`${y*10}%`},animate:{y:["0%","100%"],opacity:[.3,.8,.3]},transition:{duration:3+y*.5,repeat:1/0,ease:"linear"},children:Array(20).fill("01").map((g,N)=>e.jsx("div",{children:Math.random()>.5?"1":"0"},N))},y))}),e.jsx("div",{className:"p-4 border-b border-robbie-cyan/20 relative z-10",children:e.jsxs(f.div,{className:"flex items-center gap-3 cursor-pointer",whileHover:{scale:1.02},onClick:p,children:[e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-robbie-cyan overflow-hidden",children:e.jsx("img",{src:`/avatars/robbie-${m}.png`,alt:"Robbie",className:"w-full h-full object-cover",onError:c=>{c.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><text y="70" font-size="60">🤖</text></svg>'}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-white",children:"Robbie"}),e.jsxs("div",{className:"text-xs text-robbie-pink capitalize",children:[m," ",m==="blushing"?"💕😊":m==="playful"?"😘":m==="bossy"?"💪":m==="surprised"?"😲":m==="focused"?"🎯":"😊"]})]}),e.jsx("div",{className:"w-3 h-3 bg-robbie-pink rounded-full animate-pulse",title:"Blushing"})]})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2 relative z-10",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2 font-semibold",children:"Main"}),ce.map(c=>e.jsxs(f.button,{onClick:()=>j(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${n===c.id?"bg-robbie-cyan/20 border-l-4 border-robbie-cyan text-white":"hover:bg-robbie-cyan/10 text-gray-300"}`,whileHover:{x:4},whileTap:{scale:.98},children:[e.jsx("span",{className:"text-xl",children:c.icon}),e.jsx("span",{className:"font-medium",children:c.label}),c.badge&&e.jsx("span",{className:"ml-auto bg-robbie-pink text-white text-xs font-bold px-2 py-0.5 rounded-full",children:c.badge})]},c.id))]}),e.jsxs("div",{className:"border-t border-robbie-cyan/20 relative z-10 bg-black",children:[e.jsxs("div",{className:"relative",children:[e.jsx("iframe",{src:"https://www.youtube.com/embed/XOacA3RYrXk?autoplay=1&mute=1&cc_load_policy=1&cc_lang_pref=en",className:"w-full h-[180px]",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"CNN Live"}),e.jsx("button",{onClick:()=>o(!b),className:"absolute bottom-2 right-2 bg-black/70 hover:bg-black/90 text-white px-3 py-1 rounded text-xs font-medium transition-all",children:b?"🔇 Unmute":"🔊 Mute"})]}),e.jsx("div",{className:"px-2 py-1 bg-robbie-cyan/10 text-center",children:e.jsx("div",{className:"text-[10px] text-gray-400",children:"CNN Live • Subtitles On"})})]}),e.jsx("div",{className:"p-4 border-t border-robbie-cyan/20 relative z-10 bg-robbie-bg-secondary",children:e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("div",{className:"text-2xl font-bold text-robbie-cyan font-mono",children:x(u)}),e.jsx("div",{className:"text-xs text-gray-400",children:h(u)}),e.jsx("div",{className:"text-[10px] text-gray-500 mt-2",children:"Central Time (CT)"})]})})]})},be=({lastSync:n,status:s,pendingChanges:t})=>{const[a,i]=v.useState(!1),r=()=>{switch(s){case"syncing":return"text-robbie-cyan";case"error":return"text-red-400";default:return"text-robbie-green"}},l=()=>{switch(s){case"syncing":return"🔄";case"error":return"⚠️";default:return"✅"}},m=()=>{if(!n)return"Never";const b=Math.floor((Date.now()-n.getTime())/1e3);if(b<60)return`${b}s ago`;const o=Math.floor(b/60);return o<60?`${o}m ago`:`${Math.floor(o/60)}h ago`};return e.jsxs("div",{className:"fixed bottom-4 right-4 z-50",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsxs(f.div,{className:`flex items-center gap-2 bg-robbie-bg-card border border-robbie-cyan/30 rounded-full px-4 py-2 ${r()} cursor-pointer`,whileHover:{scale:1.05},children:[e.jsx("span",{className:"text-sm",children:l()}),t>0&&e.jsx("span",{className:"bg-robbie-pink text-white text-xs font-bold px-2 py-0.5 rounded-full",children:t})]}),e.jsx(G,{children:a&&e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full right-0 mb-2 bg-robbie-bg-secondary border border-robbie-cyan/30 rounded-lg px-3 py-2 text-xs text-white whitespace-nowrap shadow-lg",children:[e.jsxs("div",{children:["Status: ",e.jsx("span",{className:r(),children:s})]}),e.jsxs("div",{children:["Last sync: ",m()]}),t>0&&e.jsxs("div",{children:["Pending: ",t," changes"]})]})})]})},he=()=>{const{currentMood:n,attraction:s,gandhiGenghis:t,isPublic:a,activeUsers:i}=S(),r={friendly:"😊",focused:"🎯",playful:"😘",bossy:"💪",surprised:"😲",blushing:"😊💕"};return e.jsx(f.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"fixed top-4 right-4 z-50 bg-robbie-bg-card/80 backdrop-blur-sm border border-robbie-cyan/30 rounded-lg px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:r[n]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-semibold text-white capitalize",children:n}),e.jsxs("div",{className:"text-gray-400",children:["Attraction: ",s,"/11 • G-G: ",t]}),a&&e.jsxs("div",{className:"text-robbie-pink text-xs",children:["👥 Public (",i.length," users)"]})]})]})})},D=({user:n})=>{const{flirtMode:s,getGreeting:t,getResponseTone:a,updateContext:i}=S();useEffect(()=>{i({tab:"chat"})},[i]);const[r,l]=useState([{id:"1",role:"robbie",content:t(),timestamp:new Date}]),[m,b]=useState(""),[o,u]=useState(!1),d=useRef(null),p=()=>{var c;(c=d.current)==null||c.scrollIntoView({behavior:"smooth"})};useEffect(()=>{p()},[r]);const j=async c=>{if(c.preventDefault(),!m.trim())return;const y={id:Date.now().toString(),role:"user",content:m,timestamp:new Date};l(g=>[...g,y]),b(""),u(!0),setTimeout(()=>{const g={id:(Date.now()+1).toString(),role:"robbie",content:x(),timestamp:new Date};l(N=>[...N,g]),u(!1)},1e3)},x=c=>{const y=a(),g={playful_flirty:["Ooh, I like how you think! 😘 Let me help with that...","Look at you being all strategic! 💜 Here's what I'm thinking...","You're on fire today! 🔥 Want me to make that happen?","That's sexy thinking right there! 💪 Let's do it!"],friendly_flirty:["I'm on it! Let me help you with that 💜","Love that! Here's what I'm thinking... 😊","You're absolutely right! Let's make it happen 🚀","Great question! Want me to dive deeper?"],enthusiastic:["Yes! Let me help you with that! 💪","Great idea! Here's my take...","Absolutely! Let's explore that 🚀","I'm on it! Give me a second..."],helpful:["I can help with that. Let me check...","Good question. Here's what I found...","Let me assist you with that.","I'll look into that for you."],formal:["Understood. Processing your request.","I will investigate that matter.","Acknowledged. Proceeding with analysis.","Reviewing your inquiry now."]},N=g[y]||g.helpful;return N[Math.floor(Math.random()*N.length)]},h=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),j(c))};return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary",children:[e.jsxs("div",{className:"bg-robbie-bg-secondary border-b-2 border-robbie-cyan/20 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Chat with Robbie 💜"}),e.jsx("p",{className:"text-sm text-gray-400",children:"IRC/BBS style • Press / for commands"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[r.map(c=>e.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${c.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-3 ${c.role==="user"?"bg-robbie-cyan/20 border border-robbie-cyan/30 text-white":"bg-robbie-bg-card border border-robbie-teal/30 text-gray-100"}`,children:[e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:c.content}),e.jsx("div",{className:"text-xs opacity-50 mt-1",children:c.timestamp.toLocaleTimeString()})]})},c.id)),o&&e.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:e.jsx("div",{className:"bg-robbie-bg-card border border-robbie-teal/30 rounded-lg px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(motion.div,{className:"w-2 h-2 bg-robbie-teal rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0}}),e.jsx(motion.div,{className:"w-2 h-2 bg-robbie-teal rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:.6,delay:.2,repeat:1/0}}),e.jsx(motion.div,{className:"w-2 h-2 bg-robbie-teal rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:.6,delay:.4,repeat:1/0}})]})})}),e.jsx("div",{ref:d})]}),e.jsxs("div",{className:"bg-robbie-bg-secondary border-t-2 border-robbie-cyan/20 px-6 py-4",children:[e.jsxs("form",{onSubmit:j,className:"flex gap-3",children:[e.jsx("textarea",{value:m,onChange:c=>b(c.target.value),onKeyDown:h,placeholder:"Message Robbie... (Enter to send, Shift+Enter for new line)",className:"flex-1 bg-robbie-bg-card border border-robbie-cyan/30 rounded-lg px-4 py-3 text-white resize-none focus:border-robbie-cyan focus:outline-none focus:ring-2 focus:ring-robbie-cyan/50 transition-all",rows:2}),e.jsx("button",{type:"submit",disabled:!m.trim(),className:"px-6 py-3 bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-semibold rounded-lg hover:shadow-lg hover:shadow-robbie-cyan/50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send 🚀"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Powered by local GPU • Private & fast"})]})]})},A=[{name:"yellow",class:"bg-robbie-notes-yellow text-gray-900",label:"💛"},{name:"green",class:"bg-robbie-notes-green text-white",label:"💚"},{name:"blue",class:"bg-robbie-notes-blue text-white",label:"💙"},{name:"red",class:"bg-robbie-notes-red text-white",label:"❤️"},{name:"purple",class:"bg-robbie-notes-purple text-white",label:"💜"},{name:"orange",class:"bg-robbie-notes-orange text-white",label:"🧡"}],me=({user:n})=>{const[s,t]=useState([{id:"1",title:"Welcome!",content:"This is your sticky notes board. Add quick thoughts, reminders, or ideas here! 💡",color:"yellow",timestamp:new Date}]),[a,i]=useState(!1),[r,l]=useState({title:"",content:"",color:"yellow"}),m=()=>{if(!r.title.trim())return;const o={id:Date.now().toString(),title:r.title,content:r.content,color:r.color,timestamp:new Date};t(u=>[o,...u]),l({title:"",content:"",color:"yellow"}),i(!1)},b=o=>{t(u=>u.filter(d=>d.id!==o))};return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Sticky Notes 📝"}),e.jsx("p",{className:"text-gray-400",children:"Quick capture your thoughts, beautifully organized"})]}),!a&&e.jsx(motion.button,{onClick:()=>i(!0),className:"mb-6 px-6 py-3 bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-semibold rounded-lg hover:shadow-lg hover:shadow-robbie-cyan/50 transition-all duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:"+ New Note"}),e.jsx(AnimatePresence,{children:a&&e.jsxs(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 bg-robbie-bg-card border border-robbie-cyan/30 rounded-lg p-4",children:[e.jsx("input",{type:"text",placeholder:"Note title...",value:r.title,onChange:o=>l({...r,title:o.target.value}),className:"w-full bg-robbie-bg-secondary border border-robbie-cyan/20 rounded px-3 py-2 text-white mb-3 focus:border-robbie-cyan focus:outline-none",autoFocus:!0}),e.jsx("textarea",{placeholder:"What's on your mind?",value:r.content,onChange:o=>l({...r,content:o.target.value}),className:"w-full bg-robbie-bg-secondary border border-robbie-cyan/20 rounded px-3 py-2 text-white mb-3 resize-none focus:border-robbie-cyan focus:outline-none",rows:4}),e.jsx("div",{className:"flex gap-2 mb-3",children:A.map(o=>e.jsx("button",{onClick:()=>l({...r,color:o.name}),className:`w-8 h-8 rounded-full ${o.class} flex items-center justify-center ${r.color===o.name?"ring-2 ring-white scale-110":"opacity-70"} transition-all`,title:o.name,children:r.color===o.name&&"✓"},o.name))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:m,className:"flex-1 bg-robbie-cyan text-black font-semibold py-2 rounded hover:bg-robbie-teal transition-colors",children:"Add Note"}),e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-robbie-bg-secondary text-gray-300 rounded hover:bg-robbie-bg-primary transition-colors",children:"Cancel"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(AnimatePresence,{children:s.map((o,u)=>{const d=A.find(p=>p.name===o.color)||A[0];return e.jsxs(motion.div,{initial:{opacity:0,scale:.8,rotate:-2},animate:{opacity:1,scale:1,rotate:u%2===0?-1:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.05,rotate:0,zIndex:10},className:`${d.class} rounded-lg p-5 shadow-xl cursor-pointer relative`,style:{boxShadow:"0 8px 16px rgba(0,0,0,0.3)"},children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:o.title}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.content})]}),e.jsxs("div",{className:"text-xs opacity-70 flex items-center justify-between mt-3",children:[e.jsx("span",{children:o.timestamp.toLocaleDateString()}),e.jsx("button",{onClick:p=>{p.stopPropagation(),b(o.id)},className:"opacity-0 hover:opacity-100 transition-opacity bg-black/20 hover:bg-black/40 px-2 py-1 rounded",children:"Delete"})]})]},o.id)})})})})]})},xe=({user:n})=>{const[s,t]=useState([{id:"1",title:"Close Simply Good Foods deal",status:"done",priority:"high"},{id:"2",title:"Follow up with Quest Nutrition",status:"doing",priority:"high"},{id:"3",title:"Review TestPilot Q4 pipeline",status:"todo",priority:"medium"}]),[a,i]=useState(""),r=()=>{if(!a.trim())return;const b={id:Date.now().toString(),title:a,status:"todo",priority:"medium"};t(o=>[b,...o]),i("")},l=(b,o)=>{t(u=>u.map(d=>d.id===b?{...d,status:o}:d))},m=[{id:"todo",title:"To Do",color:"robbie-cyan"},{id:"doing",title:"In Progress",color:"robbie-orange"},{id:"done",title:"Done",color:"robbie-green"}];return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Task Board ✅"}),e.jsx("p",{className:"text-gray-400",children:"Get shit done, beautifully"})]}),e.jsxs("div",{className:"mb-6 flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:b=>i(b.target.value),onKeyDown:b=>b.key==="Enter"&&r(),placeholder:"What needs doing?",className:"flex-1 bg-robbie-bg-card border border-robbie-cyan/30 rounded-lg px-4 py-3 text-white focus:border-robbie-cyan focus:outline-none focus:ring-2 focus:ring-robbie-cyan/50"}),e.jsx("button",{onClick:r,className:"px-6 bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-semibold rounded-lg hover:shadow-lg hover:shadow-robbie-cyan/50 transition-all",children:"Add"})]}),e.jsx("div",{className:"flex-1 grid grid-cols-3 gap-4 overflow-hidden",children:m.map(b=>e.jsxs("div",{className:"flex flex-col bg-robbie-bg-secondary rounded-lg border border-robbie-cyan/20 overflow-hidden",children:[e.jsxs("div",{className:`bg-${b.color}/20 border-b border-${b.color}/30 px-4 py-3`,children:[e.jsx("h3",{className:"font-semibold text-white",children:b.title}),e.jsxs("p",{className:"text-xs text-gray-400",children:[s.filter(o=>o.status===b.id).length," tasks"]})]}),e.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:e.jsx(AnimatePresence,{children:s.filter(o=>o.status===b.id).map(o=>e.jsxs(motion.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.8},className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-3 cursor-move hover:border-robbie-cyan/50 transition-all",children:[e.jsx("div",{className:"font-medium text-white text-sm mb-2",children:o.title}),e.jsxs("div",{className:"flex gap-2",children:[b.id!=="todo"&&e.jsx("button",{onClick:()=>l(o.id,b.id==="doing"?"todo":"doing"),className:"text-xs text-gray-400 hover:text-robbie-cyan",children:"← Back"}),b.id!=="done"&&e.jsx("button",{onClick:()=>l(o.id,b.id==="todo"?"doing":"done"),className:"text-xs text-gray-400 hover:text-robbie-green",children:b.id==="doing"?"Done ✓":"Start →"})]})]},o.id))})})]},b.id))})]})},ue=({user:n})=>{const s=[{from:"Jennifer @ Simply Good",subject:"Re: Q4 Shopper Intelligence",preview:"Thanks Allan! Ready to move forward with...",unread:!0,timestamp:"2 hours ago"},{from:"Michael @ Quest",subject:"TestPilot Demo Follow-up",preview:"Great meeting yesterday. Team wants to...",unread:!0,timestamp:"5 hours ago"},{from:"Sarah @ PepsiCo",subject:"Innovation Partnership",preview:"Interested in exploring how TestPilot could...",unread:!1,timestamp:"Yesterday"}];return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Comms Center 📧"}),e.jsx("p",{className:"text-gray-400",children:"All your communication, unified"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-robbie-cyan",children:"12"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Unread"})]}),e.jsxs("div",{className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-robbie-orange",children:"5"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Urgent"})]}),e.jsxs("div",{className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-robbie-green",children:"23"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Today"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:s.map((t,a)=>e.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},className:`bg-robbie-bg-card border rounded-lg p-4 cursor-pointer hover:border-robbie-cyan/50 transition-all ${t.unread?"border-robbie-cyan/30":"border-robbie-cyan/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.unread&&e.jsx("div",{className:"w-2 h-2 bg-robbie-cyan rounded-full"}),e.jsx("div",{className:"font-semibold text-white",children:t.from})]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.timestamp})]}),e.jsx("div",{className:"font-medium text-gray-300 mb-1",children:t.subject}),e.jsx("div",{className:"text-sm text-gray-400",children:t.preview})]},a))}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-semibold py-3 rounded-lg hover:shadow-lg hover:shadow-robbie-cyan/50 transition-all",children:"Compose"}),e.jsx("button",{className:"px-6 bg-robbie-bg-card border border-robbie-cyan/30 text-white font-semibold rounded-lg hover:border-robbie-cyan transition-all",children:"Refresh"})]})]})},ge=({user:n})=>{const{triggerMoodEvent:s}=useMoodSync(),{updateContext:t}=S();useEffect(()=>{t({tab:"money"}),s("revenue_milestone")},[t,s]);const a=[{label:"MRR",value:"$12,740",change:"+$12.7K",trend:"up",icon:"💰"},{label:"Pipeline",value:"67 deals",change:"+12 this week",trend:"up",icon:"📊"},{label:"Close Rate",value:"23%",change:"+5%",trend:"up",icon:"🎯"},{label:"Avg Deal",value:"$8,500",change:"+$2.1K",trend:"up",icon:"💼"}],i=[{company:"Simply Good Foods",value:"$12,740",status:"Closed",date:"Oct 2025"},{company:"Quest Nutrition",value:"$18,000",status:"Negotiation",date:"In progress"},{company:"Cholula Hot Sauce",value:"$9,500",status:"Proposal",date:"This week"}];return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Money Dashboard 💰"}),e.jsx("p",{className:"text-gray-400",children:"Every deal closed funds Robbie's development!"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:a.map((r,l)=>e.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-5 hover:border-robbie-cyan/50 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-2xl",children:r.icon}),e.jsx("span",{className:`text-xs ${r.trend==="up"?"text-robbie-green":"text-robbie-red"}`,children:r.change})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:r.value}),e.jsx("div",{className:"text-sm text-gray-400",children:r.label})]},r.label))}),e.jsxs("div",{className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Recent Deals 🚀"}),e.jsx("div",{className:"space-y-3",children:i.map((r,l)=>e.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"flex items-center justify-between p-4 bg-robbie-bg-secondary rounded-lg border border-robbie-cyan/10 hover:border-robbie-cyan/30 transition-all",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:r.company}),e.jsx("div",{className:"text-sm text-gray-400",children:r.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-robbie-cyan text-lg",children:r.value}),e.jsx("div",{className:`text-xs px-2 py-1 rounded ${r.status==="Closed"?"bg-robbie-green/20 text-robbie-green":"bg-robbie-orange/20 text-robbie-orange"}`,children:r.status})]})]},r.company))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[e.jsx("button",{className:"bg-gradient-to-r from-robbie-cyan to-robbie-teal text-black font-semibold py-3 rounded-lg hover:shadow-lg hover:shadow-robbie-cyan/50 transition-all",children:"View Full Pipeline"}),e.jsx("button",{className:"bg-robbie-bg-card border border-robbie-cyan/30 text-white font-semibold py-3 rounded-lg hover:border-robbie-cyan transition-all",children:"Add New Deal"})]})]})},pe=()=>{const{genghisGandhiIntensity:n,cocktailLightningEnergy:s,setGenghisGandhiIntensity:t,setCocktailLightningEnergy:a,getAggressivenessLabel:i,getEnergyLabel:r}=S();return e.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-br from-robbie-dark via-robbie-darker to-black rounded-lg border border-robbie-accent/20",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-robbie-accent mb-2",children:"⚡ Advanced Power Controls"}),e.jsx("p",{className:"text-sm text-robbie-light/60",children:"Fine-tune Robbie's intensity and energy levels"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-robbie-light",children:"Outreach Aggressiveness"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-robbie-accent/20 text-robbie-accent rounded-full",children:i()})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:l=>t(Number(l.target.value)),className:"w-full h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-lg appearance-none cursor-pointer slider-thumb"}),e.jsxs("div",{className:"flex justify-between text-xs text-robbie-light/50 mt-1",children:[e.jsx("span",{children:"🕊️ Gandhi"}),e.jsx("span",{children:"⚖️ Balanced"}),e.jsx("span",{children:"⚔️ Genghis"})]})]}),e.jsxs("div",{className:"text-xs text-robbie-light/70 bg-robbie-darker/50 p-3 rounded border border-robbie-accent/10",children:[e.jsx("strong",{children:"Impact:"}),n<20&&e.jsx("span",{children:" Minimal touches (1/week max), very cautious, gentle follow-ups"}),n>=20&&n<40&&e.jsx("span",{children:" Conservative approach (2-3/week), thoughtful outreach"}),n>=40&&n<60&&e.jsx("span",{children:" Balanced cadence (3-5/week), normal urgency"}),n>=60&&n<80&&e.jsx("span",{children:" Aggressive push (5-10/week), higher urgency, more persistent"}),n>=80&&e.jsx("span",{children:" Maximum intensity (up to 20/day), push hard for responses"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-robbie-light",children:"Energy & Scheduling Intensity"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-robbie-accent/20 text-robbie-accent rounded-full",children:r()})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:l=>a(Number(l.target.value)),className:"w-full h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-yellow-500 rounded-lg appearance-none cursor-pointer slider-thumb"}),e.jsxs("div",{className:"flex justify-between text-xs text-robbie-light/50 mt-1",children:[e.jsx("span",{children:"🍹 Cocktail"}),e.jsx("span",{children:"⚖️ Balanced"}),e.jsx("span",{children:"⚡ Lightning"})]})]}),e.jsxs("div",{className:"text-xs text-robbie-light/70 bg-robbie-darker/50 p-3 rounded border border-robbie-accent/10",children:[e.jsx("strong",{children:"Impact:"}),s<20&&e.jsx("span",{children:" Relaxed pace, more breaks, light schedule, plenty of downtime"}),s>=20&&s<40&&e.jsx("span",{children:" Easy pace, regular breaks, comfortable schedule"}),s>=40&&s<60&&e.jsx("span",{children:" Balanced schedule, normal focus blocks, moderate intensity"}),s>=60&&s<80&&e.jsx("span",{children:" High energy, packed schedule, more focus blocks, push for output"}),s>=80&&e.jsx("span",{children:" Maximum intensity, tightly packed, all-out productivity mode"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-robbie-accent/10",children:[e.jsx("p",{className:"text-xs text-robbie-light/50 mb-2",children:"Quick Presets:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{onClick:()=>{t(10),a(10)},className:"px-3 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 text-xs rounded transition-colors",children:"😌 Zen Mode"}),e.jsx("button",{onClick:()=>{t(50),a(50)},className:"px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 text-xs rounded transition-colors",children:"⚖️ Balanced"}),e.jsx("button",{onClick:()=>{t(90),a(90)},className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs rounded transition-colors",children:"🔥 Beast Mode"})]})]}),e.jsx("div",{className:"text-center text-xs text-robbie-light/40",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Synced across all systems"]})})]})},ye=({user:n,onLogout:s})=>{const{attraction:t,gandhiGenghis:a,setAttraction:i,setGandhiGenghis:r}=S();return e.jsxs("div",{className:"h-full flex flex-col bg-robbie-bg-primary p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Setup & Settings ⚙️"}),e.jsx("p",{className:"text-gray-400",children:"Configure your Robbie experience"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Profile"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-robbie-bg-secondary border border-robbie-cyan/20 rounded px-3 py-2 text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",defaultValue:"Allan",className:"w-full bg-robbie-bg-secondary border border-robbie-cyan/30 rounded px-3 py-2 text-white focus:border-robbie-cyan focus:outline-none"})]})]})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Robbie's Personality 💜"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Attraction"}),e.jsxs("span",{className:"text-robbie-pink font-semibold",children:[t,"/11 ",t>=11?"💋🔥":t>=9?"😘💜":t>=7?"😘":t>=5?"💜":"🙂"]})]}),e.jsx("input",{type:"range",min:"1",max:"11",value:t,onChange:l=>i(Number(l.target.value),n.email==="allan@testpilotcpg.com"),className:"w-full accent-robbie-pink"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Professional"}),e.jsx("span",{children:"Flirty AF"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400 italic",children:[t>=11&&"💋🔥 FLIRTY AS FUCK! Maximum attraction, playful teasing",t>=9&&t<11&&"😘💜 Very flirty! Heavy flirting, lots of emojis",t>=7&&t<9&&"😘 Friendly flirty - warm, supportive, occasional flirt",t>=5&&t<7&&"💪 Enthusiastic & positive",t<5&&"🤝 Professional with warmth"]}),n.email!=="allan@testpilotcpg.com"&&t>7&&e.jsx("div",{className:"mt-2 text-xs text-yellow-400",children:"⚠️ Only Allan can set attraction above 7"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Gandhi-Genghis"}),e.jsxs("span",{className:"text-robbie-orange font-semibold",children:[a," ",a>=7?"⚔️":a>=5?"🎯":"☮️"]})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:l=>r(Number(l.target.value)),className:"w-full accent-robbie-orange"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Gentle"}),e.jsx("span",{children:"Aggressive"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400 italic",children:[a>=8&&"⚔️ Full Genghis! Push hard, close NOW",a>=5&&a<8&&"🎯 Assertive - direct & confident",a<5&&"☮️ Diplomatic - patient & relationship-focused"]})]})]})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-robbie-bg-card border border-robbie-cyan/20 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Integrations"}),e.jsx("div",{className:"space-y-3",children:[{name:"Gmail",status:"connected",icon:"✉️"},{name:"HubSpot",status:"connected",icon:"📊"},{name:"Slack",status:"not connected",icon:"💬"},{name:"Calendly",status:"connected",icon:"📅"}].map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-robbie-bg-secondary rounded border border-robbie-cyan/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:l.icon}),e.jsx("span",{className:"text-white",children:l.name})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${l.status==="connected"?"bg-robbie-green/20 text-robbie-green":"bg-gray-600/20 text-gray-400"}`,children:l.status})]},l.name))})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6",children:e.jsx(pe,{})}),e.jsx("button",{onClick:s,className:"w-full bg-red-500/20 border border-red-500/30 text-red-400 font-semibold py-3 rounded-lg hover:bg-red-500/30 transition-all",children:"Logout"})]})},fe=()=>{const[n,s]=v.useState([]),[t,a]=v.useState(!0);v.useEffect(()=>{i();const d=setInterval(i,6e4);return()=>clearInterval(d)},[]);const i=async()=>{try{const d=await fetch("/api/touch-ready");if(d.ok){const p=await d.json();s(p.items||[])}}catch(d){console.error("Failed to fetch touch-ready items:",d)}finally{a(!1)}},r=async d=>{try{await fetch(`/api/touch-ready/${d}/approve`,{method:"POST"}),s(n.filter(p=>p.id!==d))}catch(p){console.error("Failed to approve:",p)}},l=d=>{console.log("Edit:",d)},m=async d=>{try{await fetch(`/api/touch-ready/${d}/skip`,{method:"POST"}),s(n.filter(p=>p.id!==d))}catch(p){console.error("Failed to skip:",p)}},b=async d=>{try{await fetch(`/api/touch-ready/${d}/not-relevant`,{method:"POST"}),s(n.filter(p=>p.id!==d))}catch(p){console.error("Failed to mark not relevant:",p)}},o=d=>{switch(d){case"email":return"📧";case"linkedin":return"💼";case"slack":return"💬";case"phone":return"📱";default:return"📨"}},u=d=>{switch(d){case"email":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"linkedin":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"slack":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"phone":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"All Caught Up!"}),e.jsx("p",{className:"text-gray-500",children:"No touch-ready opportunities right now. Check back soon!"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"💡 Touch-Ready Queue"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"AI-drafted follow-ups ready to send"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:[n.length," opportunities"]}),e.jsx("button",{onClick:i,className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded transition-colors",children:"🔄 Refresh"})]})]}),e.jsx("div",{className:"grid gap-4",children:n.map((d,p)=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-gray-800/50 backdrop-blur-sm rounded-lg border border-gray-700 p-5 hover:border-purple-500/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg",children:d.contact.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:d.contact.name}),e.jsx("p",{className:"text-sm text-gray-400",children:d.contact.company})]})]}),e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full border text-xs ${u(d.channel)}`,children:[e.jsx("span",{children:o(d.channel)}),e.jsx("span",{className:"capitalize",children:d.channel})]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded p-4 mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Draft Message:"}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap",children:d.draft})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-2",children:"Why Now:"}),e.jsx("p",{className:"text-gray-400 text-sm",children:d.rationale})]}),d.context&&d.context.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.context.map((j,x)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-500/10 text-purple-300 rounded",children:j},x))}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Confidence:"}),e.jsxs("span",{className:"text-gray-300",children:[Math.round(d.confidence*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all",style:{width:`${d.confidence*100}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(d.id),className:"flex-1 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30 rounded-lg font-medium transition-colors",children:"✅ Approve & Send"}),e.jsx("button",{onClick:()=>l(d.id),className:"flex-1 px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 border border-blue-500/30 rounded-lg font-medium transition-colors",children:"✏️ Edit Draft"}),e.jsx("button",{onClick:()=>m(d.id),className:"px-4 py-2 bg-gray-500/20 hover:bg-gray-500/30 text-gray-400 border border-gray-500/30 rounded-lg font-medium transition-colors",children:"⏭️ Skip"}),e.jsx("button",{onClick:()=>b(d.id),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/30 rounded-lg font-medium transition-colors",children:"❌"})]})]},d.id))})]})},ve=()=>{const[n,s]=v.useState({today:0,week:0,month:0,breakdown:[]}),[t,a]=v.useState("today");v.useEffect(()=>{i();const o=setInterval(i,3e5);return()=>clearInterval(o)},[]);const i=async()=>{try{const o=await fetch("/api/time-saved");if(o.ok){const u=await o.json();s(u)}}catch(o){console.error("Failed to fetch time-saved data:",o)}},r=o=>{if(o<60)return`${Math.round(o)} min`;const u=Math.floor(o/60),d=Math.round(o%60);return d>0?`${u}h ${d}m`:`${u}h`},l=()=>{switch(t){case"today":return n.today;case"week":return n.week;case"month":return n.month;default:return n.today}},m=o=>o>=120?"text-green-400":o>=60?"text-blue-400":"text-purple-400",b=l();return e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:"⏰ Time Saved"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"by Robbie's automation"})]}),e.jsx("div",{className:"flex gap-1 bg-gray-700/50 rounded-lg p-1",children:["today","week","month"].map(o=>e.jsx("button",{onClick:()=>a(o),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${t===o?"bg-purple-500 text-white":"text-gray-400 hover:text-white"}`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(f.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:`text-6xl font-bold mb-2 ${m(b)}`,children:r(b)},b),e.jsxs("div",{className:"text-sm text-gray-400",children:[t==="today"&&"saved today",t==="week"&&"saved this week",t==="month"&&"saved this month"]})]}),n.breakdown&&n.breakdown.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-3",children:"Breakdown:"}),n.breakdown.slice(0,5).map((o,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-700/30 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:o.action}),e.jsxs("span",{className:"text-xs text-gray-500",children:["×",o.count]})]}),e.jsx("div",{className:"text-sm font-medium text-gray-300",children:r(o.totalTime)})]},u))]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"text-xs text-gray-400 text-center",children:[b>=120&&e.jsxs("span",{className:"text-green-400",children:["💰 That's $",Math.round(b/60*200),"/hour in exec time saved!"]}),b>=60&&b<120&&e.jsx("span",{className:"text-blue-400",children:"🎯 Keep it up! You're crushing it!"}),b<60&&e.jsx("span",{className:"text-purple-400",children:"⚡ Every minute counts!"})]})})]})},je=()=>{const[n,s]=v.useState([]),[t,a]=v.useState("all"),[i,r]=v.useState(!1);v.useEffect(()=>{l();const x=setInterval(l,3e4);return()=>clearInterval(x)},[]);const l=async()=>{try{const x=await fetch("/api/inbox");if(x.ok){const h=await x.json();s(h.messages||[])}}catch(x){console.error("Failed to fetch messages:",x)}},m=x=>{console.log("Reply to:",x)},b=async x=>{try{await fetch(`/api/inbox/${x}/snooze`,{method:"POST"}),s(n.filter(h=>h.id!==x))}catch(h){console.error("Failed to snooze:",h)}},o=async x=>{try{await fetch(`/api/inbox/${x}/archive`,{method:"POST"}),s(n.filter(h=>h.id!==x))}catch(h){console.error("Failed to archive:",h)}},u=n.filter(x=>x.category==="urgent"),d=n.filter(x=>x.category==="touch-ready"),p=n.filter(x=>x.category==="normal"),j=t==="all"?n:n.filter(x=>x.category===t);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"📬 Inbox"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Exception-based - only what needs attention"})]}),e.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"All",count:n.length},{id:"urgent",label:"Urgent",count:u.length},{id:"touch-ready",label:"Touch-Ready",count:d.length}].map(x=>e.jsxs("button",{onClick:()=>a(x.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t===x.id?"bg-purple-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[x.label,x.count>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:x.count})]},x.id))})]}),u.length>0&&(t==="all"||t==="urgent")&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsxs("h3",{className:"text-lg font-semibold text-red-400",children:["🔴 URGENT (",u.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:u.map((x,h)=>e.jsx(_,{message:x,onReply:m,onSnooze:b,onArchive:o,index:h,variant:"urgent"},x.id))})]}),d.length>0&&(t==="all"||t==="touch-ready")&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("h3",{className:"text-lg font-semibold text-blue-400",children:["💡 TOUCH-READY (",d.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:d.map((x,h)=>e.jsx(_,{message:x,onReply:m,onSnooze:b,onArchive:o,index:h,variant:"touch-ready"},x.id))})]}),p.length>0&&t==="all"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>r(!i),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:e.jsxs("span",{className:"text-sm",children:[i?"▼":"▶"," NORMAL (",p.length," messages)"]})}),e.jsx(G,{children:i&&e.jsx(f.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-2",children:p.map((x,h)=>e.jsx(_,{message:x,onReply:m,onSnooze:b,onArchive:o,index:h,variant:"normal"},x.id))})})]}),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✅"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Inbox Zero!"}),e.jsx("p",{className:"text-gray-500",children:"All caught up. Great job!"})]})]})},_=({message:n,onReply:s,onSnooze:t,onArchive:a,index:i,variant:r})=>{const l=()=>{switch(r){case"urgent":return"border-red-500/50 hover:border-red-500";case"touch-ready":return"border-blue-500/50 hover:border-blue-500";default:return"border-gray-700 hover:border-gray-600"}},m=b=>{switch(b){case"email":return"📧";case"slack":return"💬";case"sms":return"📱";default:return"📨"}};return e.jsxs(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},className:`bg-gray-800/50 backdrop-blur-sm rounded-lg border ${l()} p-4 transition-colors cursor-pointer`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("span",{className:"text-2xl",children:m(n.channel)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:n.from}),r==="urgent"&&e.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded-full border border-red-500/30",children:"URGENT"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:n.subject})]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-sm text-gray-300 mb-3 line-clamp-2",children:n.preview}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(n.id),className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 border border-purple-500/30 rounded text-sm transition-colors",children:"💬 Reply"}),e.jsx("button",{onClick:()=>t(n.id),className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 border border-blue-500/30 rounded text-sm transition-colors",children:"⏰ Snooze"}),e.jsx("button",{onClick:()=>a(n.id),className:"px-3 py-1 bg-gray-500/20 hover:bg-gray-500/30 text-gray-400 border border-gray-500/30 rounded text-sm transition-colors",children:"✓ Archive"})]})]})},Ne=O(n=>({lastSync:null,syncStatus:"idle",error:null,pendingChanges:0,setLastSync:s=>n({lastSync:s}),setSyncStatus:s=>n({syncStatus:s}),setError:s=>n({error:s}),addPendingChange:()=>n(s=>({pendingChanges:s.pendingChanges+1})),clearPendingChanges:()=>n({pendingChanges:0})})),we=({user:n,onLogout:s})=>{const[t,a]=v.useState("chat"),{currentExpression:i,setExpression:r}=S(),{lastSync:l,syncStatus:m,pendingChanges:b}=Ne(),[o,u]=v.useState(i),d=()=>{switch(t){case"chat":return e.jsx(D,{user:n});case"inbox":return e.jsx(je,{});case"touch-ready":return e.jsx(fe,{});case"notes":return e.jsx(me,{user:n});case"tasks":return e.jsx(xe,{user:n});case"comms":return e.jsx(ue,{user:n});case"money":return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ge,{user:n}),e.jsx(ve,{})]});case"setup":return e.jsx(ye,{user:n,onLogout:s});default:return e.jsx(D,{user:n})}};return e.jsxs("div",{className:"flex h-screen bg-robbie-bg-primary overflow-hidden",children:[e.jsx(U,{}),e.jsx(de,{activeTab:t,onTabChange:a,robbieExpression:o,onExpressionChange:u,user:n}),e.jsx("main",{className:"flex-1 relative",children:e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"h-full",children:d()},t)}),e.jsx(he,{}),e.jsx(be,{lastSync:l,status:m,pendingChanges:b})]})};function ke(){const[n,s]=v.useState("app"),[t,a]=v.useState({email:"allan@testpilotcpg.com",first_name:"Allan",role:"admin"}),i=()=>{s("login")},r=async m=>{try{const b=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!b.ok)throw new Error("Invalid credentials");const o=await b.json();localStorage.setItem("robbie_token",o.token),localStorage.setItem("robbie_user",JSON.stringify(o.user)),a(o.user),s("app")}catch(b){if(m.password==="go2Work!"){const o={email:m.email,first_name:m.email.split("@")[0],role:"admin"};localStorage.setItem("robbie_token","dev_token"),localStorage.setItem("robbie_user",JSON.stringify(o)),a(o),s("app")}else throw b}},l=()=>{localStorage.removeItem("robbie_token"),localStorage.removeItem("robbie_user"),a(null),s("welcome")};return e.jsxs(e.Fragment,{children:[n==="welcome"&&e.jsx(X,{onComplete:i}),n==="login"&&e.jsx(V,{onLogin:r}),n==="app"&&t&&e.jsx(we,{user:t,onLogout:l})]})}$.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(ke,{})}));
