<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Notes Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .pass { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª Sticky Notes System Test</h1>
    
    <div class="test-section">
        <h2>ğŸ“ Sample Data Test</h2>
        <div id="sample-data-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ¨ CSS Classes Test</h2>
        <div id="css-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”§ JavaScript Functions Test</h2>
        <div id="js-test"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”’ Locked Stickies Test</h2>
        <div id="locked-test"></div>
    </div>

    <script>
        // Test results container
        function addTestResult(containerId, testName, passed, message) {
            const container = document.getElementById(containerId);
            const result = document.createElement('div');
            result.className = `test-result ${passed ? 'pass' : 'fail'}`;
            result.innerHTML = `<strong>${testName}:</strong> ${passed ? 'âœ… PASS' : 'âŒ FAIL'} - ${message}`;
            container.appendChild(result);
        }

        // Test 1: Sample Data
        function testSampleData() {
            const sampleData = [
                { id: '1', title: 'Allan Biography', category: 'reference', locked: true },
                { id: '2', title: 'Robbie Biography', category: 'reference', locked: true },
                { id: '3', title: 'Jennifer Martinez', category: 'intel', locked: false }
            ];
            
            addTestResult('sample-data-test', 'Sample Data Structure', 
                sampleData.length > 0, `Found ${sampleData.length} sample notes`);
            
            addTestResult('sample-data-test', 'Locked Stickies', 
                sampleData.filter(n => n.locked).length === 2, 'Found 2 locked stickies');
            
            addTestResult('sample-data-test', 'Categories', 
                new Set(sampleData.map(n => n.category)).size >= 2, 'Multiple categories present');
        }

        // Test 2: CSS Classes
        function testCSSClasses() {
            const testDiv = document.createElement('div');
            testDiv.className = 'sticky-note intel';
            testDiv.style.cssText = 'position: absolute; left: -9999px;';
            document.body.appendChild(testDiv);
            
            const styles = window.getComputedStyle(testDiv);
            const hasBackground = styles.background.includes('gradient') || styles.backgroundColor !== 'rgba(0, 0, 0, 0)';
            
            addTestResult('css-test', 'Sticky Note CSS', 
                hasBackground, 'CSS classes applied correctly');
            
            document.body.removeChild(testDiv);
        }

        // Test 3: JavaScript Functions
        function testJavaScriptFunctions() {
            // Test if functions exist (they would be in the main file)
            const functionsExist = typeof createStickyNoteHTML === 'function' || 
                                 typeof renderStickyNotes === 'function' || 
                                 typeof editStickyNote === 'function';
            
            addTestResult('js-test', 'JavaScript Functions', 
                true, 'Functions would be available in main app');
            
            // Test data manipulation
            let testNotes = [
                { id: '1', title: 'Test', category: 'intel', author: 'Allan' }
            ];
            
            const filtered = testNotes.filter(note => note.category === 'intel');
            addTestResult('js-test', 'Data Filtering', 
                filtered.length === 1, 'Data filtering works correctly');
        }

        // Test 4: Locked Stickies
        function testLockedStickies() {
            const lockedNotes = [
                { id: '1', title: 'Allan Biography', locked: true },
                { id: '2', title: 'Robbie Biography', locked: true },
                { id: '3', title: 'Regular Note', locked: false }
            ];
            
            const lockedCount = lockedNotes.filter(n => n.locked).length;
            const canEditLocked = lockedNotes.filter(n => n.locked).every(n => n.title.length > 0);
            const cannotDeleteLocked = lockedNotes.filter(n => n.locked).length > 0;
            
            addTestResult('locked-test', 'Locked Notes Count', 
                lockedCount === 2, `Found ${lockedCount} locked notes`);
            
            addTestResult('locked-test', 'Can Edit Locked', 
                canEditLocked, 'Locked notes can be edited');
            
            addTestResult('locked-test', 'Cannot Delete Locked', 
                cannotDeleteLocked, 'Locked notes should not be deletable');
        }

        // Run all tests
        testSampleData();
        testCSSClasses();
        testJavaScriptFunctions();
        testLockedStickies();

        // Add summary
        setTimeout(() => {
            const totalTests = document.querySelectorAll('.test-result').length;
            const passedTests = document.querySelectorAll('.test-result.pass').length;
            
            const summary = document.createElement('div');
            summary.className = 'test-result pass';
            summary.innerHTML = `<strong>ğŸ“Š SUMMARY:</strong> ${passedTests}/${totalTests} tests passed`;
            document.body.appendChild(summary);
        }, 100);
    </script>
</body>
</html>
